<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>复选框全选全不选反选</title>
	<link rel="stylesheet" type="text/css" href="css/reset.css">
</head>
<body>
        <div id="outer">
	    <div class="inter">
                <div class="checkbox">
                <input type="checkbox"/><label><strong>全选</strong></label>&nbsp;&nbsp;&nbsp;&nbsp;<a href="javascript:;">反选</a>
                <p></p>
                </div>
                <p><input type="checkbox"/><label>选项（一）</label></p>
                <p><input type="checkbox"/><label>选项（二）</label></p>
                <p><input type="checkbox"/><label>选项（三）</label></p>
                <p><input type="checkbox"/><label>选项（四）</label></p>
                <p><input type="checkbox"/><label>选项（五）</label></p>
                <p><input type="checkbox"/><label>选项（六）</label></p>
                <p><input type="checkbox"/><label>选项（七）</label></p>
                <p><input type="checkbox"/><label>选项（八）</label></p>
                <p><input type="checkbox"/><label>选项（九）</label></p>
                <p><input type="checkbox"/><label>选项（十）</label></p>
	     </div>
        </div>
        <br>
        <br>
        <center style="color: #999">1、切换全选/全不选文字；2、根据选中个数更新全选框状态；</center>
        <script type="text/javascript">
                window.onload = function(){
                        var oLabel = document.getElementsByTagName('label')[0];
                        var oInput = document.getElementsByTagName('input');
                        var oA = document.getElementsByTagName('a')[0];
                        //做全选 反选更新方法
                        var isCheckAll = function(){
                                for(var i = 1,n = 0 ; i < oInput.length ; i++){
                                        oInput[i].checked && n++ ;
                                }
                                oInput[0].checked = n == oInput.length - 1 ;
                                oLabel.innerHTML = oInput[0].checked ? "全不选" : "全选" ;
                        }
                        //全选/全不选
                        oInput[0].onclick = function(){
                                for(var i = 1 ; i < oInput.length ; i++){
                                      oInput[i].checked = this.checked ;  
                                }
                                isCheckAll();
                        }
                        //反选
                        oA.onclick = function(){
                                for(var i =1 ; i < oInput.length ; i++){
                                        oInput[i].checked = !oInput[i].checked ;  
                                }
                                isCheckAll();
                        }
                        //复选状态更新全选信息
                        for(var i = 1 ; i < oInput.length ; i++){
                                oInput[i].onclick = function(){
                                        isCheckAll();
                                }
                        }
                }

        </script>
</body>
</body>
</html>